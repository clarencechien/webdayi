{
  "version": "11.2.2",
  "build": "20251112-002",
  "buildDate": "2025-11-12T01:00:00Z",
  "commit": "b75c36e",
  "releaseName": "Viterbi Debug Tools & Duplicate Character Analysis",
  "changelog": [
    {
      "version": "11.2.2",
      "build": "002",
      "date": "2025-11-12",
      "type": "diagnostic",
      "title": "Add Viterbi debug tools and duplicate character checks",
      "changes": [
        "Created viterbi_module_debug.js with extensive console logging",
        "Created test-viterbi-debug.html for browser-based algorithm tracing",
        "Created diagnose-candidate-order.js to analyze candidate ordering",
        "Created check-duplicates.js to verify no duplicate characters exist",
        "Confirmed no duplicates in candidate lists (all 1584 codes clean)",
        "Identified two separate bugs: test page picks wrong at pos 3, main app fails pos 4-9"
      ],
      "findings": [
        "Main app systematically picks low-frequency candidates (freq=1000) at positions 4-6",
        "Expected high-frequency candidates (freq>9000) are rank 1 but not selected",
        "Candidates ARE sorted correctly (no sorting issue)",
        "No duplicate characters in any candidate list",
        "Bug appears to be in Viterbi forward pass or backtracking logic"
      ],
      "next_steps": [
        "Run test-viterbi-debug.html and capture console output",
        "Analyze DP table to find where algorithm goes wrong",
        "Fix Viterbi algorithm based on debug trace"
      ]
    },
    {
      "version": "11.2.1",
      "build": "001",
      "date": "2025-11-12",
      "type": "diagnostic",
      "title": "Add Chinese text recognition diagnostic tools",
      "changes": [
        "Created diagnose-chinese-text.js for code/candidate analysis",
        "Created test-viterbi-actual.js for algorithm verification",
        "Created trace-viterbi-bug.js for detailed DP table tracing",
        "Created test-browser-version.html for browser cache verification",
        "Confirmed algorithm works correctly (Test 1: 100%, Test 2: 90%)",
        "Identified browser cache as likely cause of reported issues"
      ],
      "notes": [
        "Algorithm is mathematically correct with Laplace smoothing v2.0",
        "Users should hard refresh (Ctrl+Shift+R) to clear cache",
        "Use test-browser-version.html to verify correct version loaded"
      ]
    },
    {
      "version": "11.2.0",
      "build": "002",
      "date": "2025-11-11",
      "type": "critical-fix",
      "title": "CRITICAL FIX: Resolve duplicate event handler conflict",
      "changes": [
        "Fixed duplicate keydown handlers in core_logic_v11_ui.js",
        "Space handler no longer calls triggerPrediction",
        "= key handler added to prevent default input behavior",
        "Input handler now ignores = character",
        "All UI text updated to '按 = 預測'",
        "Added diagnostic logging for Space/= handlers"
      ],
      "fixes": [
        "v + space no longer shows 'Invalid code: v '",
        "= key no longer treated as invalid input",
        "Space does NOT trigger prediction (only buffers)"
      ]
    },
    {
      "version": "11.2.0",
      "build": "001",
      "date": "2025-11-11",
      "type": "critical-fix",
      "title": "CRITICAL FIX: Correct Space/= key behavior",
      "changes": [
        "Space key now ONLY buffers codes (no prediction)",
        "= key triggers Viterbi prediction and outputs result",
        "Fixed mobile prediction button",
        "True blind typing workflow enabled"
      ],
      "fixes": [
        "= key no longer treated as invalid input",
        "Space key no longer causes hang",
        "Mobile prediction button now functional"
      ]
    },
    {
      "version": "11.1.0",
      "date": "2025-11-11",
      "type": "bug-fix",
      "title": "Fix Space/= key activation (function scope issue)",
      "changes": [
        "Fixed function scope issue (window.* vs global)",
        "Updated UI text 'Press Space' → 'Press ='",
        "Fixed button handler to call correct function"
      ]
    },
    {
      "version": "11.0.0",
      "date": "2025-11-11",
      "type": "major",
      "title": "Sentence Mode Space/= Key Redesign",
      "changes": [
        "Redesigned Space key behavior for sentence mode",
        "Changed = key from pagination to prediction confirmation",
        "Disabled selection keys in sentence mode",
        "Added triggerSentencePrediction and confirmPrediction functions",
        "25 new TDD tests for correct behavior"
      ]
    },
    {
      "version": "10.0.0",
      "date": "2025-11-06",
      "type": "major",
      "title": "Full Laplace Smoothing + N-gram v2.0",
      "changes": [
        "Implemented complete Laplace smoothing",
        "N-gram database v2.0 with raw counts",
        "96/96 tests passing",
        "Production-ready statistical smoothing"
      ]
    }
  ]
}
